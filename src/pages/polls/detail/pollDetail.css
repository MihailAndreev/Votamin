/* Poll detail page styles */

/* ── Back link ── */
.vm-poll-back-link {
	text-decoration: none;
	color: var(--vm-teal);
	font-size: 0.92rem;
	font-weight: 600;
	line-height: 1;
	padding: 0.52rem 0.82rem;
	border-radius: var(--vm-radius-full);
	border: 1px solid var(--vm-teal-light);
	background: var(--vm-teal-light);
	box-shadow: var(--vm-shadow-sm);
	transition: transform var(--vm-transition), box-shadow var(--vm-transition), filter var(--vm-transition);
}

.vm-poll-back-link:hover {
	color: var(--vm-teal);
	transform: translateY(-1px);
	box-shadow: var(--vm-shadow);
	filter: brightness(1.02);
}

.vm-poll-back-link:focus-visible {
	outline: 2px solid var(--vm-teal);
	outline-offset: 2px;
}

.vm-poll-back-links .vm-poll-back-link {
	display: inline-flex;
	width: 100%;
	min-width: 0;
	max-width: none;
	height: 3rem;
	padding: 0 1rem;
	border-width: 1px;
	justify-content: center;
	align-items: center;
	white-space: nowrap;
}

.vm-poll-back-links {
	display: grid !important;
	grid-template-columns: repeat(2, minmax(0, 1fr));
	column-gap: 0.75rem;
	row-gap: 0.5rem;
	max-width: 34rem;
}

@media (max-width: 640px) {
	.vm-poll-back-links {
		grid-template-columns: 1fr;
		max-width: none;
	}

	.vm-poll-back-links .vm-poll-back-link {
		width: 100%;
		min-width: 0;
		max-width: none;
	}
}

.vm-poll-back-link--admin {
	color: var(--vm-gray-700);
	border-color: var(--vm-gray-300);
	background: var(--vm-gray-100);
}

.vm-poll-back-link--admin:hover {
	color: var(--vm-gray-800);
	filter: none;
}

.vm-poll-back-link--admin:focus-visible {
	outline-color: var(--vm-gray-500);
}

/* ── 3-column wrapper ── */
.vm-poll-detail-wrapper {
	max-width: 100% !important;
	padding-left: clamp(0.75rem, 2vw, 1.5rem);
	padding-right: clamp(0.75rem, 2vw, 1.5rem);
}

.vm-poll-detail-grid {
	display: grid;
	grid-template-columns: minmax(220px, 1fr) minmax(640px, 780px) minmax(220px, 1fr);
	gap: 1.5rem;
	align-items: start;
}

.vm-poll-detail-center {
	min-width: 0;
	width: 100%;
}

/* ── Sidebars shared ── */
.vm-poll-sidebar {
	position: sticky;
	top: 5rem;
}

.vm-sidebar-section {
	background: var(--vm-card-bg, #fff);
	border: 1px solid var(--vm-border, #e5e7eb);
	border-radius: var(--vm-radius, 0.75rem);
	padding: 1rem;
	margin-bottom: 1rem;
}

.vm-sidebar-section--admin {
	opacity: 0.85;
}

.vm-sidebar-title {
	font-size: 0.82rem;
	font-weight: 700;
	text-transform: uppercase;
	letter-spacing: 0.04em;
	color: var(--vm-teal, #14b8a6);
	margin-bottom: 0.75rem;
	padding-bottom: 0.5rem;
	border-bottom: 2px solid var(--vm-teal-light, #ccfbf1);
}

.vm-sidebar-head {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 0.5rem;
	margin-bottom: 0.75rem;
}

.vm-sidebar-head .vm-sidebar-title {
	margin-bottom: 0;
	padding-bottom: 0;
	border-bottom: 0;
}

.vm-export-menu {
	position: relative;
}

.vm-export-trigger {
	list-style: none;
	cursor: pointer;
	font-size: 0.75rem;
	font-weight: 700;
	padding: 0.24rem 0.55rem;
	border-radius: var(--vm-radius-full);
	color: var(--vm-teal);
	border: 1px solid var(--vm-teal-light, #ccfbf1);
	background: var(--vm-teal-light, #f0fdfa);
}

.vm-export-trigger::-webkit-details-marker {
	display: none;
}

.vm-export-list {
	position: absolute;
	right: 0;
	top: calc(100% + 0.35rem);
	display: flex;
	flex-direction: column;
	min-width: 120px;
	background: #fff;
	border: 1px solid var(--vm-border, #e5e7eb);
	border-radius: var(--vm-radius, 0.5rem);
	box-shadow: var(--vm-shadow, 0 10px 25px rgba(2, 6, 23, 0.12));
	z-index: 4;
}

.vm-export-item {
	text-align: left;
	border: 0;
	background: transparent;
	padding: 0.45rem 0.65rem;
	font-size: 0.8rem;
	color: var(--vm-text, #1f2937);
	cursor: pointer;
}

.vm-export-item:hover {
	background: var(--vm-teal-light, #f0fdfa);
}

/* ── KPI list (left sidebar) ── */
.vm-sidebar-kpi {
	list-style: none;
	padding: 0;
	margin: 0;
	display: flex;
	flex-direction: column;
	gap: 0.6rem;
}

.vm-sidebar-kpi li {
	display: flex;
	justify-content: space-between;
	align-items: baseline;
	gap: 0.5rem;
}

.vm-kpi-label {
	font-size: 0.82rem;
	color: var(--vm-text-muted, #6b7280);
}

.vm-kpi-value {
	font-size: 0.85rem;
	font-weight: 600;
	color: var(--vm-text, #1f2937);
	text-align: right;
}

/* ── Voters list (right sidebar) ── */
.vm-voters-list {
	list-style: none;
	padding: 0;
	margin: 0;
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}

.vm-voter-item {
	padding-bottom: 0.6rem;
	border-bottom: 1px solid var(--vm-border, #e5e7eb);
}

.vm-voter-item:last-child {
	border-bottom: none;
}

.vm-voter-hidden {
	display: none;
}

.vm-voter-name {
	font-size: 0.85rem;
	font-weight: 600;
	color: var(--vm-text, #1f2937);
}

.vm-voter-choice {
	font-size: 0.8rem;
	color: var(--vm-teal, #14b8a6);
	margin-top: 0.1rem;
}

.vm-voter-time {
	font-size: 0.72rem;
	color: var(--vm-text-muted, #9ca3af);
}

.vm-voters-show-more {
	display: block;
	width: 100%;
	margin-top: 0.5rem;
	padding: 0.4rem;
	font-size: 0.8rem;
	font-weight: 600;
	color: var(--vm-teal);
	background: var(--vm-teal-light, #f0fdfa);
	border: 1px solid var(--vm-teal-light, #ccfbf1);
	border-radius: var(--vm-radius, 0.5rem);
	cursor: pointer;
	transition: background 0.15s;
}

.vm-voters-show-more:hover {
	background: var(--vm-teal-lightest, #ccfbf1);
}

.vm-owner-actions {
	align-items: center;
	flex-wrap: wrap;
}

.vm-owner-actions__publish {
	margin-left: auto;
}

.vm-poll-status-badge--draft {
	font-size: 0.86rem;
	padding: 0.28rem 0.82rem;
	background: var(--vm-gray-200);
	color: var(--vm-gray-700);
}

/* ── Responsive: tablet ── */
@media (max-width: 1024px) {
	.vm-poll-detail-grid {
		grid-template-columns: 220px 1fr;
	}
	.vm-poll-sidebar--right {
		grid-column: 1 / -1;
	}
}

/* ── Responsive: mobile ── */
@media (max-width: 768px) {
	.vm-poll-detail-grid {
		grid-template-columns: 1fr;
	}
	.vm-owner-actions {
		width: 100%;
	}
	.vm-owner-actions__publish {
		margin-left: auto;
	}
	.vm-poll-sidebar {
		position: static;
	}
	.vm-poll-sidebar--left {
		order: -1;
	}
	.vm-poll-sidebar--right {
		order: 10;
	}
}
